<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Advice for Developers • tidyfun</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Advice for Developers">
<meta property="og:description" content="tidyfun">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyfun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.95</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/x01_tf_Vectors.html">tf-Vectors and Operations</a>
    </li>
    <li>
      <a href="../articles/x02_Conversion.html">Converting data to and from `tf`</a>
    </li>
    <li>
      <a href="../articles/x03_Data_Wrangling.html">Data Wrangling</a>
    </li>
    <li>
      <a href="../articles/x04_Visualization.html">Visualization</a>
    </li>
    <li>
      <a href="../articles/x05_Advice.html">Advice for Developers</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tidyfun/tidyfun/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="x05_Advice_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Advice for Developers</h1>
                        <h4 data-toc-skip class="author">Jeff Goldsmith</h4>
            
            <h4 data-toc-skip class="date">2022-03-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tidyfun/tidyfun/blob/HEAD/vignettes/x05_Advice.Rmd" class="external-link"><code>vignettes/x05_Advice.Rmd</code></a></small>
      <div class="hidden name"><code>x05_Advice.Rmd</code></div>

    </div>

    
    
<p><strong><code>tidyfun</code></strong> is intended to make user interactions with functional data easier. The package introduces a data class (<code>tf</code>) so that vectors of functional observations are available, similar to vectors of class <code>numeric</code> or <code>character</code>. That makes it possible to store functional data alongside other variables in a single dataframe; by extension, tools for data manipulation from the <code>tidyverse</code> and elsewhere can be used with datasets in which one or more variable is functional.</p>
<p>Some basic analyses are available in <strong><code>tidyfun</code></strong> – it’s possible to compute means of <code>tf</code> vectors, to expand observations using a spline basis or using functional principal components analysis. With tools like <code>group_by</code> and <code>summarize</code>, these can be powerful tools for data exploration. Other analysis approaches are included in the <strong><code>refunder</code></strong> package, and more will be added to that package over time.</p>
<p>There is an active research community in FDA, and there is constant development of new methods for analysis. Our hope is that the data structures in <strong><code>tidyfun</code></strong> will be useful as others as new approaches are implemented, and this page is intended to provide some advice and guidance for those implementations.</p>
<div class="section level2">
<h2 id="why-use-tidyfun">Why use <strong><code>tidyfun</code></strong><a class="anchor" aria-label="anchor" href="#why-use-tidyfun"></a>
</h2>
<p>There are start-up costs to using a new data class when writing code for new methods, and there should be reasons to adopt such a class. We see several benefits to using <strong><code>tidyfun</code></strong>:</p>
<ul>
<li>Compatibility with a dataframe-centric approach to analysis</li>
<li>Supporting tools for data manipulation</li>
<li>Plotting in <code>ggplot</code> and base R</li>
</ul>
<p>Together, these make it possible to analyze functional data in a pipeline (import, exploratory analysis, visualization, and formal analysis) that is similar to those used for scalar variables.</p>
<p>These advantages are user-facing – they are intended to make things easier when analyzing datasets that include functional observations. Because new methods for functional data typically involve working with “raw” observations (numeric vectors or matrices), implementing methods <strong><code>tidyfun</code></strong> will require some consideration of user interfaces, input objects, and data transformations. We believe the benefits are worth this effort.</p>
</div>
<div class="section level2">
<h2 id="thoughts-on-design">Thoughts on design<a class="anchor" aria-label="anchor" href="#thoughts-on-design"></a>
</h2>
<p><strong><code>tidyfun</code></strong> will be most effective in new methods that are intended to be part of an analysis pipeline. As a starting point, we suggest addressing the following questions:</p>
<ul>
<li>How will users’ data be organized? What will input dataframes look like? What other variables will exist in addition to <code>tf</code> columns?</li>
<li>What is a natural user interface for my function? How should users specify functional data columns?</li>
<li>What will users expect to obtain from my function? Are there parallels with other modeling strategies? How should I organize output so that it integrates with a dataframe-centric analysis approach?</li>
<li>Should functions support <code>tfd</code>, <code>tfb</code>, or both? Does the output class matter?</li>
<li>Are there any supporting tools I should include? Things like <code>plot</code> or <code>predict</code>, which can be used to summarize results?</li>
</ul>
<p>At best, users will have a seamless experience across data exploration, modeling, and understanding results; <strong><code>tidyfun</code></strong> is intended to encourage that.</p>
</div>
<div class="section level2">
<h2 id="using-tidyfun-in-new-functions">Using <strong><code>tidyfun</code></strong> in new functions<a class="anchor" aria-label="anchor" href="#using-tidyfun-in-new-functions"></a>
</h2>
<p>We anticipate that new methods for functional data will use raw numeric values (in vectors or matrices) for estimation and / or inference. Tools for converting <code>tf</code> vectors to matrices or other formats are available, and useful in this context. In general, we have used the following structure for functions that perform analyses:</p>
<ul>
<li>Input objects are dataframes containing <code>tf</code> vectors</li>
<li>
<code>tf</code> vectors are converted to matrices (or numeric vectors)</li>
<li>The estimation procedure is implemented using these matrices</li>
<li>Results are formatted as <code>tf</code> vectors as appropriate and returned to the user</li>
</ul>
<p>This pipeline shifts the burden for data conversion from the user to the function author, and in doing so maintains seamlessness for the user.</p>
<p>As an example, the <code>refunder::rfr_fpca</code> function for functional principal components analysis has two main inputs: a dataframe containing one or more <code>tf</code> variables, and the name of the variable to decompose using FPCA. Internally, the <code>tf</code> vector is converted to a matrix for estimation. The function returns a list of elements relevant for FPCA, and includes estimated functions as a <code>tfb</code> vector. There is also a <code>predict</code> method, so that FPCA expansions of new data using the estimated basis can be easily obtained by users.</p>
</div>
<div class="section level2">
<h2 id="keep-us-informed">Keep us informed!<a class="anchor" aria-label="anchor" href="#keep-us-informed"></a>
</h2>
<p>Our hope is that <strong><code>tidyfun</code></strong> will be a useful platform for other researchers and developers. For that reason, please let us know if you use <strong><code>tidyfun</code></strong> in your own work, identify <a href="https://github.com/tidyfun/tidyfun/issues" class="external-link">issues</a>, or have suggestions.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Fabian Scheipl, Jeff Goldsmith, Julia Wrobel.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
