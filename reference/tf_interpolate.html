<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Re-evaluate tf-objects on new evaluation grid. — tf_interpolate • tidyfun</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Re-evaluate tf-objects on new evaluation grid. — tf_interpolate"><meta property="og:description" content="Change the internal representation of a tf-object so that it
uses a different grid of evaluation points (arg). Useful for
thinning out dense grids to make data smaller
filling out sparse grids to make derivatives/integrals and locating extrema or zero crossings more
accurate (... if the interpolation works well ...)
making irregular functional data into (more) regular data.


This is really just syntactic sugar for tf&amp;lt;d|b&amp;gt;(object, arg = arg).
To reliably impute very irregular data on a regular, common grid,
you'll be better off doing FPCA-based imputation or other model-based
approaches in most cases."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyfun</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.95</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/x01_tf_Vectors.html">tf-Vectors and Operations</a>
    </li>
    <li>
      <a href="../articles/x02_Conversion.html">Converting data to and from `tf`</a>
    </li>
    <li>
      <a href="../articles/x03_Data_Wrangling.html">Data Wrangling</a>
    </li>
    <li>
      <a href="../articles/x04_Visualization.html">Visualization</a>
    </li>
    <li>
      <a href="../articles/x05_Advice.html">Advice for Developers</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/tidyfun/tidyfun/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Re-evaluate <code>tf</code>-objects on new evaluation grid.</h1>
    <small class="dont-index">Source: <a href="https://github.com/tidyfun/tidyfun/blob/HEAD/R/interpolate.R" class="external-link"><code>R/interpolate.R</code></a></small>
    <div class="hidden name"><code>tf_interpolate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Change the internal representation of a <code>tf</code>-object so that it
uses a different grid of evaluation points (<code>arg</code>). Useful for</p><ul><li><p>thinning out dense grids to make data smaller</p></li>
<li><p>filling out sparse grids to make derivatives/integrals and locating extrema or zero crossings more
accurate (... <em>if</em> the interpolation works well ...)</p></li>
<li><p>making irregular functional data into (more) regular data.</p></li>
</ul><p>This is really just syntactic sugar for <code>tf&lt;d|b&gt;(object, arg = arg)</code>.
To reliably impute very irregular data on a regular, common grid,
you'll be better off doing FPCA-based imputation or other model-based
approaches in most cases.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">tf_interpolate</span><span class="op">(</span><span class="va">object</span>, <span class="va">arg</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for tfb</span>
<span class="fu">tf_interpolate</span><span class="op">(</span><span class="va">object</span>, <span class="va">arg</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for tfd</span>
<span class="fu">tf_interpolate</span><span class="op">(</span><span class="va">object</span>, <span class="va">arg</span>, <span class="va">...</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>an object inheriting from <code>tf</code></p></dd>
<dt>arg</dt>
<dd><p>a vector of argument values on which to evaluate the functions in
<code>object</code></p></dd>
<dt>...</dt>
<dd><p>additional arguments handed over to <code>tfd</code> or <code>tfb</code>, for the
construction of the returned object</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a <code>tfd</code> or <code>tfb</code> object on the new grid given by <code>arg</code></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># thinning out a densely observed tfd</span></span>
<span class="r-in"><span class="op">(</span><span class="va">dense</span> <span class="op">&lt;-</span> <span class="fu"><a href="tf_rgp.html">tf_rgp</a></span><span class="op">(</span><span class="fl">10</span>, arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, l <span class="op">=</span> <span class="fl">1001</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tfd[10] on (0,1) based on 1001 evaluations each</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interpolation by tf_approx_linear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]: (0.000,-0.51);(0.001,-0.55);(0.002,-0.58); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2]: (0.000, 0.53);(0.001, 0.49);(0.002, 0.54); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3]: (0.000,-0.29);(0.001,-0.24);(0.002,-0.33); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4]: (0.000,-0.33);(0.001,-0.31);(0.002,-0.33); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5]: (0.000,-0.70);(0.001,-0.71);(0.002,-0.73); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6]: (0.000, 0.71);(0.001, 0.66);(0.002, 0.69); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]: (0.000,-0.84);(0.001,-0.82);(0.002,-0.78); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8]: (0.000,  1.6);(0.001,  1.5);(0.002,  1.5); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9]: (0.000,-0.41);(0.001,-0.36);(0.002,-0.41); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10]: (0.000, 0.24);(0.001, 0.22);(0.002, 0.22); ...</span>
<span class="r-in"><span class="op">(</span><span class="va">less_dense</span> <span class="op">&lt;-</span> <span class="fu">tf_interpolate</span><span class="op">(</span><span class="va">dense</span>, arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, l <span class="op">=</span> <span class="fl">101</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tfd[10] on (0,1) based on 101 evaluations each</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> interpolation by tf_approx_linear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]: (0.00,-0.51);(0.01,-0.59);(0.02,-0.61); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2]: (0.00, 0.53);(0.01, 0.54);(0.02, 0.56); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3]: (0.00,-0.29);(0.01,-0.23);(0.02,-0.34); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4]: (0.00,-0.33);(0.01,-0.40);(0.02,-0.43); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5]: (0.00,-0.70);(0.01,-0.83);(0.02,-0.86); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6]: (0.00, 0.71);(0.01, 0.69);(0.02, 0.64); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7]: (0.00,-0.84);(0.01,-0.80);(0.02,-0.77); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8]: (0.00,  1.6);(0.01,  1.6);(0.02,  1.6); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [9]: (0.00,-0.41);(0.01,-0.37);(0.02,-0.31); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [10]: (0.00, 0.24);(0.01, 0.22);(0.02, 0.21); ...</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># filling out sparse data (use a suitable evaluator -function!)</span></span>
<span class="r-in"><span class="va">sparse</span> <span class="op">&lt;-</span> <span class="fu"><a href="tf_rgp.html">tf_rgp</a></span><span class="op">(</span><span class="fl">10</span>, arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, l <span class="op">=</span> <span class="fl">21</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sparse</span><span class="op">)</span></span>
<span class="r-in"><span class="fu"><a href="tfd.html">tfd</a></span><span class="op">(</span><span class="va">sparse</span>, evaluator<span class="op">=</span> <span class="va">tf_approx_spline</span><span class="op">)</span> |&gt;   <span class="co">#change eval. for better interpolation</span></span>
<span class="r-in">  <span class="fu">tf_interpolate</span><span class="op">(</span>arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span>, l <span class="op">=</span> <span class="fl">201</span><span class="op">)</span><span class="op">)</span> |&gt;</span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span>col <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span class="r-plt img"><img src="tf_interpolate-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1860</span><span class="op">)</span></span>
<span class="r-in"><span class="op">(</span><span class="va">sparse_irregular</span> <span class="op">&lt;-</span> <span class="fu"><a href="tf_rgp.html">tf_rgp</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span> |&gt;  <span class="fu"><a href="tf_jiggle.html">tf_sparsify</a></span><span class="op">(</span><span class="fl">.5</span><span class="op">)</span> |&gt; <span class="fu"><a href="tf_jiggle.html">tf_jiggle</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tfd[5] on (0,1) based on 21 to 31 (mean: 25) evaluations each</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inter-/extrapolation by tf_approx_linear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]: (   0.12,   -1.4);(   0.17,   -1.3);(   0.19,   -1.3); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2]: (0.00058,    1.7);(0.02331,    1.6);(0.03208,    1.6); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3]: (  0.075,   0.94);(  0.076,   0.91);(  0.113,   1.10); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4]: (  0.027, 0.0017);(  0.039,-0.1400);(  0.074,-0.3849); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5]: (   0.11,  0.120);(   0.13,  0.014);(   0.15, -0.065); ...</span>
<span class="r-in"><span class="fu">tf_interpolate</span><span class="op">(</span><span class="va">sparse_irregular</span>, arg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, l <span class="op">=</span> <span class="fl">51</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>33 evaluations were NA, returning irregular tfd.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tfd[5] on (0,1) based on 39 to 48 (mean: 44) evaluations each</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> inter-/extrapolation by tf_approx_linear </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]: (0.14,  -1.4);(0.16,  -1.3);(0.18,  -1.3); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2]: (0.02,   1.7);(0.04,   1.6);(0.06,   1.5); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3]: (0.08,  0.93);(0.10,  1.03);(0.12,  1.11); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4]: (0.04, -0.14);(0.06, -0.29);(0.08, -0.40); ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5]: (0.12, 0.049);(0.14,-0.035);(0.16,-0.098); ...</span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Fabian Scheipl, Jeff Goldsmith, Julia Wrobel.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

